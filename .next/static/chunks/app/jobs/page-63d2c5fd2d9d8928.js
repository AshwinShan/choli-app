(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{5253:(e,t,a)=>{Promise.resolve().then(a.bind(a,7771))},7771:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(5155),r=a(2115),l=a(6766),s=a(9946);let o=(0,s.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),i=(0,s.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);function c(e){let{categoryName:t,options:a,value:l,onFilterChange:s}=e,[c,m]=(0,r.useState)(!1),d=(0,r.useRef)(null),p=e=>{s(l.includes(e)?l.filter(t=>t!==e):[...l,e])};(0,r.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&m(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let u=l.length>0?l.join(", "):t;return(0,n.jsxs)("div",{className:"w-full max-w-md mx-auto relative",ref:d,children:[(0,n.jsxs)("button",{onClick:()=>m(e=>!e),className:"w-[250px] flex items-center justify-between bg-gray-100 px-4 py-2 rounded-md shadow-sm text-left text-sm font-medium text-gray-700 hover:bg-gray-200 focus:outline-none","aria-expanded":c,children:[(0,n.jsx)("span",{className:"truncate max-w-[200px]",children:u}),c?(0,n.jsx)(o,{size:16}):(0,n.jsx)(i,{size:16})]}),c&&(0,n.jsx)("div",{className:"mt-2 p-4 bg-white border rounded-md shadow-md max-h-64 overflow-y-auto space-y-2 absolute z-10 w-full",children:a.map((e,t)=>(0,n.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[(0,n.jsx)("input",{type:"checkbox",value:e,checked:l.includes(e),onChange:()=>p(e),className:"form-checkbox h-4 w-4 text-blue-600"}),(0,n.jsx)("span",{className:"truncate",children:e})]},"".concat(e,"-").concat(t)))})]})}function m(e){let{filter:t,setSelectedFilters:a,selectedFilters:r}=e,l=(e,t)=>{a(a=>({...a,[e]:t}))},s=e=>{let a=t[e];return Array.isArray(a)?Array.from(new Set(a.map(e=>"object"==typeof e&&"name"in e?e.name:e))):[]};return(0,n.jsxs)("div",{className:"flex flex-wrap mx-auto justify-around align-middle my-10 p-3 bg-white border-1 border-slate-200 w-3/4",children:[[{name:"Company Name",key:"company"},{name:"Location",key:"location"},{name:"Employment Type",key:"employmentType"}].map(e=>(0,n.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold font-sans text-slate-600 mb-2",children:e.name}),(0,n.jsx)(c,{options:s(e.key),value:r[e.key],categoryName:e.name,onFilterChange:t=>l(e.key,t)})]},e.key)),(0,n.jsx)("button",{onClick:()=>a({company:[],location:[],employmentType:[]}),className:"text-sm text-blue-600 hover:underline mt-2 ml-4",children:"Clear Filters"})]})}var d=a(5695);function p(){let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)({company:[],location:[],employmentType:[]}),[o,i]=(0,r.useState)(!0),[c,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/jobs"),a=await e.json();t(a)}catch(e){p("Failed to load jobs.")}finally{i(!1)}})()},[]);let u={company:Array.from(new Set(e.map(e=>e.company))),location:Array.from(new Set(e.map(e=>e.location))),employmentType:Array.from(new Set(e.map(e=>e.description.employmentType))),map:function(){throw Error("Function not implemented.")}},x=e.filter(e=>(0===a.company.length||a.company.includes(e.company.name))&&(0===a.location.length||a.location.includes(e.location))&&(0===a.employmentType.length||a.employmentType.includes(e.description.employmentType))),h=(0,d.useRouter)();return(0,n.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[(0,n.jsx)(m,{filter:u,selectedFilters:a,setSelectedFilters:s}),o&&(0,n.jsx)("p",{className:"text-gray-500",children:"Loading jobs..."}),c&&(0,n.jsx)("p",{className:"text-red-500",children:c}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full max-w-6xl p-5",children:x.map(e=>{var t;return(0,n.jsxs)("div",{className:"p-5 rounded-xl shadow-md border border-slate-200 w-full max-w-sm mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"truncate w-3/4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold overflow-hidden text-ellipsis whitespace-nowrap",children:e.title}),(0,n.jsx)("p",{className:"text-gray-600 text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:e.company.name})]}),(0,n.jsx)("div",{className:"w-1/4 flex justify-end",children:(0,n.jsx)(l.default,{src:null!=(t=e.company.logo)?t:"/placeholder-logo.png",alt:e.company.name,width:50,height:50,className:"rounded-full object-contain"})})]}),(0,n.jsx)("p",{className:"text-gray-500 text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:e.location}),(0,n.jsx)("p",{className:"text-gray-500 text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:e.description.industry}),(0,n.jsx)("p",{className:"text-gray-500 text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:e.description.employmentType}),(0,n.jsx)("button",{onClick:()=>h.push("/jobs/".concat(e.id)),className:"text-xs bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor-pointer mt-2",children:"Apply Now"})]},e.id)})})]})}},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),s=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=(0,n.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:m="",children:d,iconNode:p,...u}=e;return(0,n.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:a,strokeWidth:s?24*Number(l)/Number(r):l,className:o("lucide",m),...!d&&!i(u)&&{"aria-hidden":"true"},...u},[...p.map(e=>{let[t,a]=e;return(0,n.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let a=(0,n.forwardRef)((a,l)=>{let{className:i,...c}=a;return(0,n.createElement)(m,{ref:l,iconNode:t,className:o("lucide-".concat(r(s(e))),"lucide-".concat(e),i),...c})});return a.displayName=s(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[212,441,684,358],()=>t(5253)),_N_E=e.O()}]);